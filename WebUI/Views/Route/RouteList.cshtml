@using WebUI.Models
@model IEnumerable<WebUI.Models.RouteViewModel>
@{
    ViewBag.Title = "RouteList";
}

<div class="row">
    <div class="col-md-offset-1 col-md-10 route-list">
        
        
        <span><h2>All available routes for today</h2></span>
        <table class="route-list-table">
            @if (ViewBag.IsModer)
            {
                <a class="manage-routes-link" href="@Url.Action("ManageRoutes", "Route")">Manage Routes</a>
            }
            @Html.Partial("SearchBar", new SearchViewModel())
            <thead>
            <tr class="route-list-row">
                <th>Route</th>
                <th>Departure/Arrival time</th>
                <th>Free places</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            @foreach (var route in Model)
            {
                <tr class="route-list-row">
                    <td>
                        <span>@route.FirstStationName-</span>
                        <span>@route.LastStationName</span>
                    </td>
                    <td>
                        <p>@route.DepartureTime</p>
                        <p>@route.ArriveTime</p>
                    </td>
                    <td>
                        <p>@route.FreePlacesCount</p>
                    </td>
                    <td>
                        @Html.ActionLink("Show details", "RouteDetails", new {routeId = route.Id})
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
        <div class="col-md-1"></div>
    </div>